---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tunnel_kubernetes Data Source - tunnel"
subcategory: ""
description: |-
  Opens a port forward to a Kubernetes service.
---

# tunnel_kubernetes (Data Source)

Opens a port forward to a Kubernetes service.

## Example Usage

```terraform
data "tunnel_kubernetes" "postgres" {
  namespace    = "default"
  service_name = "postgres-service"
  target_port  = 5432

  kubernetes = {
    config_path    = "~/.kube/config"
    config_context = "minikube"
  }
}

provider "postgresql" {
  host            = data.tunnel_kubernetes.postgres.local_host
  port            = data.tunnel_kubernetes.postgres.local_port
  username        = "postgres"
  password        = "password"
  sslmode         = "disable"
  connect_timeout = 15
}

resource "postgresql_database" "my_db" {
  name = "my_database"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `namespace` (String) The namespace of the service.
- `service_name` (String) The name of the service to forward ports to.
- `target_port` (Number) The port on the service to forward to.

### Optional

- `kubernetes` (Attributes) Kubernetes Configuration (see [below for nested schema](#nestedatt--kubernetes))
- `local_host` (String) The local address to listen on (e.g., 127.0.0.1).
- `local_port` (Number) The local port to listen on. If 0, a random port will be chosen.

<a id="nestedatt--kubernetes"></a>
### Nested Schema for `kubernetes`

Optional:

- `client_certificate` (String) PEM-encoded client certificate for TLS authentication.
- `client_key` (String) PEM-encoded client certificate key for TLS authentication.
- `cluster_ca_certificate` (String) PEM-encoded root certificates bundle for TLS authentication.
- `config_context` (String) Context to choose from the config file. Can be sourced from KUBE_CTX.
- `config_context_auth_info` (String) Authentication info context of the kube config (name of the kubeconfig user, --user flag in kubectl). Can be sourced from KUBE_CTX_AUTH_INFO.
- `config_context_cluster` (String) Cluster context of the kube config (name of the kubeconfig cluster, --cluster flag in kubectl). Can be sourced from KUBE_CTX_CLUSTER.
- `config_path` (String) Path to the kube config file. Can be set with KUBE_CONFIG_PATH.
- `config_paths` (List of String) A list of paths to kube config files. Can be set with KUBE_CONFIG_PATHS environment variable.
- `exec` (Attributes) Exec configuration for Kubernetes authentication (see [below for nested schema](#nestedatt--kubernetes--exec))
- `host` (String) The hostname (in form of URI) of kubernetes master
- `insecure` (Boolean) Whether server should be accessed without verifying the TLS certificate.
- `password` (String) The password to use for HTTP basic authentication when accessing the Kubernetes master endpoint.
- `proxy_url` (String) URL to the proxy to be used for all API requests.
- `tls_server_name` (String) Server name passed to the server for SNI and is used in the client to check server certificates against.
- `token` (String) Token to authenticate a service account.
- `username` (String) The username to use for HTTP basic authentication when accessing the Kubernetes master endpoint

<a id="nestedatt--kubernetes--exec"></a>
### Nested Schema for `kubernetes.exec`

Required:

- `api_version` (String) API version for the exec plugin.
- `command` (String) Command to run for Kubernetes exec plugin

Optional:

- `args` (List of String) Arguments for the exec plugin
- `env` (Map of String) Environment variables for the exec plugin
